{"componentChunkName":"component---src-templates-blog-template-js","path":"/steadily/growth-diary/2023/10/13/","result":{"data":{"cur":{"id":"8db9a1d9-059f-5da8-9dee-58aaa0483281","html":"<h1 id=\"-성장일지-70\" style=\"position:relative;\"><a href=\"#-%EC%84%B1%EC%9E%A5%EC%9D%BC%EC%A7%80-70\" aria-label=\" 성장일지 70 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>🚤 성장일지 7.0</h1>\n<p>책 <code class=\"language-text\">행복한 이기주의자(웨인 다이어)</code>의 내용에 자극받아 시작하는 소박한 <code class=\"language-text\">성장기록</code></p>\n<blockquote>\n<p>살아있는 꽃과 죽은 꽃은 어떻게 구별하는가?<br/>\n성장하고 있는 것이 살아 있는 것이다.<br/>\n생명의 유일한 증거는 성장이다!</p>\n</blockquote>\n<blockquote>\n<p>⚛ (7.0)&#x3C;완전 개편> <code class=\"language-text\">파인만 학습법</code>을 알게 된만큼, 성장일지는 정말 그 날의 키워드 중심으로 간단하게 정리하도록 한다.</p>\n</blockquote>\n<h2 id=\"nextjs의-image-src-에러\" style=\"position:relative;\"><a href=\"#nextjs%EC%9D%98-image-src-%EC%97%90%EB%9F%AC\" aria-label=\"nextjs의 image src 에러 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Next.js의 Image src 에러</h2>\n<p>Image 컴포넌트의 src에 백엔드에서 받아온 이미지 url을 넣어주었는데, 아래와 같은 에러가 발생했다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">Error: Invalid src prop...</code></pre></div>\n<p>이는 Next.js 공식문서에서도 확인할 수 있는데, 외부 url을 통해 이미지를 가져올 때 악성 이미지를 가져오지 않기 위함이라고 한다. 해결법은 생각보다 너무 간단하다. <code class=\"language-text\">next.config.js</code> 파일을 생성하고 아래와 같이 작성해주면 된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">module<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">images</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">domains</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'images.unsplash.com'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// 외부 url을 통해 이미지를 가져올 때, 허용할 도메인을 적어준다.</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h2 id=\"pwa가-가능하게-해주는-서비스워커\" style=\"position:relative;\"><a href=\"#pwa%EA%B0%80-%EA%B0%80%EB%8A%A5%ED%95%98%EA%B2%8C-%ED%95%B4%EC%A3%BC%EB%8A%94-%EC%84%9C%EB%B9%84%EC%8A%A4%EC%9B%8C%EC%BB%A4\" aria-label=\"pwa가 가능하게 해주는 서비스워커 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>PWA가 가능하게 해주는 서비스워커?</h2>\n<p>서비스워커란 우리가 작성한 웹 앱을 브라우저가 백그라운드에서 실행할 수 있게 해주는 브라우저 기능이다. 기본적으로 서비스워커는 우리 서비스의 실행유무와 상관없이 백그라운드에서 실행되기 때문에 브라우저가 종료되어도 서비스워커는 계속 실행된다. 이를 이용해서 우리는 브라우저가 종료되어도 서비스워커가 실행되는 동안에는 푸시 알림을 보내거나, 오프라인에서도 웹 앱을 사용할 수 있는 것이다.\n조금 단순하게 생각하면 브라우저와 네트워크 사이에서 프록시 서버의 역할처럼 동작한다고 보면된다. 예를 들면 오프라인 상태에서도 서비스워커는 브라우저와 네트워크 사이에서 요청을 받아서 캐싱된 데이터를 응답해준다. 또한 우리가 오프라인일 때 채팅을 보내거나 특정 유저의 알림을 받아야되는 상황에서 온라인이 되자마자 보냈던 채팅이 전송된다거나 알림이 뜨는 것도 서비스워커를 통해 가능하다.</p>\n<h2 id=\"마이그레이션-포팅-컨버팅\" style=\"position:relative;\"><a href=\"#%EB%A7%88%EC%9D%B4%EA%B7%B8%EB%A0%88%EC%9D%B4%EC%85%98-%ED%8F%AC%ED%8C%85-%EC%BB%A8%EB%B2%84%ED%8C%85\" aria-label=\"마이그레이션 포팅 컨버팅 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>마이그레이션, 포팅, 컨버팅</h2>\n<p>아주 사소한 차이지만(사실 거의 마이그레이션이라는 표현을 쓰지만), 이력서를 작성하다가 React에서 Next로 <code class=\"language-text\">마이그레이션한다</code>는 말이 맞는건가 싶어서 찾아보았다.</p>\n<ul>\n<li>마이그레이션: 기존 시스템을 새로운 시스템으로 옮기는 것, 보통은 더 나은 운영 체제나 더 나은 하드웨어로 옮기는 것을 의미한다.</li>\n<li>포팅: 컴퓨터 프로그램을 다른 컴퓨터 플랫폼으로 옮기는 것을 의미한다. 예를 들어 iOS 동작하는 어플리케이션을 안드로이드에서 동작하게 하는 것도 포팅이다.</li>\n<li>컨버팅: 컴퓨터 프로그램을 다른 프로그래밍 언어로 옮기는 것을 의미한다. 예를 들어 C++로 작성된 프로그램을 Java로 옮기는 것도 컨버팅이다.</li>\n</ul>\n<p>위의 정의들을 보니 보통 서비스 개발자들이 사용하는 <code class=\"language-text\">마이그레이션</code>은 <code class=\"language-text\">컨버팅</code>에 가까운 것 같다. 딱 잘라서 정해진 표현들은 아니니까 그냥 마이그레이션으로 써도 큰 문제는 없을 것 같다.</p>\n<h2 id=\"robotstxt와-sitemapxml\" style=\"position:relative;\"><a href=\"#robotstxt%EC%99%80-sitemapxml\" aria-label=\"robotstxt와 sitemapxml permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>robots.txt와 sitemap.xml</h2>\n<p>SEO를 위해 robots.txt와 sitemap.xml를 추가해주었다.</p>\n<ul>\n<li>robots.txt: 검색엔진이 사이트를 크롤링할 때 어떤 페이지를 크롤링할지, 어떤 페이지를 크롤링하지 않을지를 정의해주는 파일이다.</li>\n<li>sitemap.xml: 검색엔진에게 사이트의 구조를 알려주는 파일이다.</li>\n</ul>\n<p>보통은 이 둘을 추가해주면 검색엔진이 사이트를 크롤링할 때 더 효율적으로 크롤링을 할 수 있다고 한다. 또한 sitemap.xml을 추가해주면 검색엔진이 사이트를 크롤링할 때 더 빠르게 크롤링을 할 수 있다고 한다(페이지의 구조를 더 명확하게 알려주니까!).</p>\n<p>Next에서는 위 두 파일을 <code class=\"language-text\">app</code> 최상위 루트에 추가하거나 간단한 js(혹은 ts) 코드로 생성할 수 있다. 나는 간단하게 ts로 작성해서 생성해주었다.</p>\n<p>robots.ts</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> MetadataRoute <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'next'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">function</span> <span class=\"token function\">robots</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> MetadataRoute<span class=\"token punctuation\">.</span>Robots <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>\n    rules<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      userAgent<span class=\"token operator\">:</span> <span class=\"token string\">'*'</span><span class=\"token punctuation\">,</span>\n      allow<span class=\"token operator\">:</span> <span class=\"token string\">'/'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    sitemap<span class=\"token operator\">:</span> <span class=\"token string\">'https://best-robbins-fe.vercel.app/sitemap.xml'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>sitemap.ts</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> MetadataRoute <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'next'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">function</span> <span class=\"token function\">sitemap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> MetadataRoute<span class=\"token punctuation\">.</span>Sitemap <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token punctuation\">{</span>\n      url<span class=\"token operator\">:</span> <span class=\"token string\">'https://best-robbins-fe.vercel.app/'</span><span class=\"token punctuation\">,</span>\n      lastModified<span class=\"token operator\">:</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n      changeFrequency<span class=\"token operator\">:</span> <span class=\"token string\">'yearly'</span><span class=\"token punctuation\">,</span>\n      priority<span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">{</span>\n      url<span class=\"token operator\">:</span> <span class=\"token string\">'https://best-robbins-fe.vercel.app/size'</span><span class=\"token punctuation\">,</span>\n      lastModified<span class=\"token operator\">:</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n      changeFrequency<span class=\"token operator\">:</span> <span class=\"token string\">'yearly'</span><span class=\"token punctuation\">,</span>\n      priority<span class=\"token operator\">:</span> <span class=\"token number\">0.8</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">{</span>\n      url<span class=\"token operator\">:</span> <span class=\"token string\">'https://best-robbins-fe.vercel.app/ingredient'</span><span class=\"token punctuation\">,</span>\n      lastModified<span class=\"token operator\">:</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n      changeFrequency<span class=\"token operator\">:</span> <span class=\"token string\">'monthly'</span><span class=\"token punctuation\">,</span>\n      priority<span class=\"token operator\">:</span> <span class=\"token number\">0.5</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2 id=\"packagejson의-틸드와-캐럿\" style=\"position:relative;\"><a href=\"#packagejson%EC%9D%98-%ED%8B%B8%EB%93%9C%EC%99%80-%EC%BA%90%EB%9F%BF\" aria-label=\"packagejson의 틸드와 캐럿 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>package.json의 틸드와 캐럿</h2>\n<p>package.json에서 버전을 명시할 때 <code class=\"language-text\">~</code>와 <code class=\"language-text\">^</code>를 사용하는데, 이 둘의 차이점을 몰랐다. 찾아보니 아래와 같은 차이가 있다고 한다.</p>\n<p>기본적으로 js 라이브러리의 버전은 <code class=\"language-text\">Semantic Versioning</code>을 따르는데, 그 구조는 아래와 같다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">MAJOR.MINOR.PATCH\n\n- MAJOR: 기존 버전과 호환되지 않는 새로운 버전(하위 호환되지 않음)\n- MINOR: 기존 버전과 호환되는 새로운 기능이 추가된 버전(하위 호환됨)\n- PATCH: 기존 버전과 호환되는 버그 수정 버전(하위 호환됨)</code></pre></div>\n<p>위의 내용을 기억하면 틸드와 캐럿은 구분하기 쉽다.</p>\n<ul>\n<li>\n<p>틸드(<code class=\"language-text\">~</code>): <code class=\"language-text\">MAJOR.MINOR</code>까지만 고정하고 <code class=\"language-text\">PATCH</code>는 최신 버전으로 업데이트한다. 예를 들어 <code class=\"language-text\">~1.2.3</code>이라고 하면 <code class=\"language-text\">1.2.3</code> 버전을 사용하고, <code class=\"language-text\">1.2.4</code> 버전이 나오면 <code class=\"language-text\">1.2.4</code> 버전으로 업데이트한다. 즉, 버그 수정 버전은 업데이트하지만 새로운 기능이 추가되는 버전은 업데이트하지 않는다.</p>\n</li>\n<li>\n<p>캐럿(<code class=\"language-text\">^</code>): <code class=\"language-text\">MAJOR</code>까지만 고정하고 <code class=\"language-text\">MINOR.PATCH</code>는 최신 버전으로 업데이트한다. 예를 들어 <code class=\"language-text\">^1.2.3</code>이라고 하면 <code class=\"language-text\">1.2.3</code> 버전을 사용하고, <code class=\"language-text\">1.3.0</code> 버전이 나오면 <code class=\"language-text\">1.3.0</code> 버전으로 업데이트한다. 즉, 새로운 기능이 추가되는 버전은 업데이트하지만 하위 호환되지 않는 MAJOR 업데이트는 하지 않는다.</p>\n</li>\n</ul>\n<p>아무래도 하위호환이 보장되는 선에서 최신 버전으로 업데이트하는 게 편하기 때문에 보통 기본적으로 캐럿을 사용한다.</p>\n<p>이 때, 특이사항으로 라이브러리의 버전이 <code class=\"language-text\">1.0.0</code> 이전인 경우는 <code class=\"language-text\">pre-release</code>라고 해서 <code class=\"language-text\">MAJOR</code> 업데이트가 아니라도 하위호환이 되지 않는 api 변경이 빈번하게 일어난다. 이런 경우에는 틸드와 캐럿 모두 틸드처럼 동작한다고 한다. 즉, 최대한 하위호환을 보장하면서 버그 수정 버전만 업데이트한다.</p>\n<h1 id=\"-회고\" style=\"position:relative;\"><a href=\"#-%ED%9A%8C%EA%B3%A0\" aria-label=\" 회고 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>📝 회고</h1>\n<p>아직 완벽하진 않지만, 어느정도 기본 구현으로는 Next.js로 마이그레이션을 맞췄다! 리드미도 1차 정리가 끝이 났고..! 후… 이제 남은 페이지랑 더 구현하고 싶었던 기능들을 얼른 구현해야지!!!!!!</p>\n<h2 id=\"참고\" style=\"position:relative;\"><a href=\"#%EC%B0%B8%EA%B3%A0\" aria-label=\"참고 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>참고</h2>\n<ul>\n<li><a href=\"https://nextjs.org/docs/app/building-your-application/optimizing/images#remote-images\">Next Image safely allow</a></li>\n<li><a href=\"https://so-so.dev/web/service-worker/\">서비스 워커란?</a></li>\n<li><a href=\"https://freemoa-blog.com/940\">마이그레이션, 포팅, 컨버팅</a></li>\n<li><a href=\"https://nextjs.org/docs/app/api-reference/file-conventions/metadata\">Next robots.txt</a></li>\n<li><a href=\"https://nextjs.org/docs/app/api-reference/file-conventions/metadata/sitemap\">Next sitemap.xml</a></li>\n<li><a href=\"https://blog.outsider.ne.kr/1041\">npm package.json에서 틸드(~) 대신 캐럿(^) 사용하기</a></li>\n<li><a href=\"https://umanking.github.io/2022/05/05/npm-version-tilde-caret/\">package.json의 틸드와 캐럿</a></li>\n</ul>\n<div class=\"table-of-contents\">\n<ul>\n<li><a href=\"#nextjs%EC%9D%98-image-src-%EC%97%90%EB%9F%AC\">Next.js의 Image src 에러</a></li>\n<li><a href=\"#pwa%EA%B0%80-%EA%B0%80%EB%8A%A5%ED%95%98%EA%B2%8C-%ED%95%B4%EC%A3%BC%EB%8A%94-%EC%84%9C%EB%B9%84%EC%8A%A4%EC%9B%8C%EC%BB%A4\">PWA가 가능하게 해주는 서비스워커?</a></li>\n<li><a href=\"#%EB%A7%88%EC%9D%B4%EA%B7%B8%EB%A0%88%EC%9D%B4%EC%85%98-%ED%8F%AC%ED%8C%85-%EC%BB%A8%EB%B2%84%ED%8C%85\">마이그레이션, 포팅, 컨버팅</a></li>\n<li><a href=\"#robotstxt%EC%99%80-sitemapxml\">robots.txt와 sitemap.xml</a></li>\n<li><a href=\"#packagejson%EC%9D%98-%ED%8B%B8%EB%93%9C%EC%99%80-%EC%BA%90%EB%9F%BF\">package.json의 틸드와 캐럿</a></li>\n<li><a href=\"#%EC%B0%B8%EA%B3%A0\">참고</a></li>\n</ul>\n</div>","excerpt":"🚤 성장일지 7.0 책 의 내용에 자극받아 시작하는 소박한  살아있는 꽃과 죽은 꽃은 어떻게 구별하는가?\n성장하고 있는 것이 살아 있는 것이다.\n생명의 유일한 증거는 성장이다! ⚛ (7.0)<완전 개편> 을 알게 된만큼, 성장일지는 정말 그 날의 키워드 중심으로 간단하게 정리하도록 한다. Next.js의 Image src 에러 Image 컴포넌트의 src에 백엔드에서 받아온 이미지 url을 넣어주었는데, 아래와 같은 에러가 발생했다. 이는 Next.js 공식문서에서도 확인할 수 있는데, 외부 url을 통해 이미지를 가져올 때 악성 이미지를 가져오지 않기 위함이라고 한다. 해결법은 생각보다 너무 간단하다.  파일을 생성하고 아래와 같이 작성해주면 된다. PWA가 가능하게 해주는 서비스워커? 서비스워커란 우리가 작성한 웹 앱을 브라우저가 백그라운드에서 실행할 수 있게 해주는 브라우저 기능이다. 기본적으로 서비스워커는 우리 서비스의 실행유무와 상관없이 백그라운드에서 실행되기 때문에 브라…","frontmatter":{"date":"October 13, 2023","title":"231013(금) 성장","categories":"성장일지","author":"제이든","emoji":"🌱"},"fields":{"slug":"/steadily/growth-diary/2023/10/13/"}},"next":{"id":"fe3682ad-3a21-52bf-abe0-55e0c9fd5f9c","html":"<h1 id=\"-성장일지-70\" style=\"position:relative;\"><a href=\"#-%EC%84%B1%EC%9E%A5%EC%9D%BC%EC%A7%80-70\" aria-label=\" 성장일지 70 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>🚤 성장일지 7.0</h1>\n<p>책 <code class=\"language-text\">행복한 이기주의자(웨인 다이어)</code>의 내용에 자극받아 시작하는 소박한 <code class=\"language-text\">성장기록</code></p>\n<blockquote>\n<p>살아있는 꽃과 죽은 꽃은 어떻게 구별하는가?<br/>\n성장하고 있는 것이 살아 있는 것이다.<br/>\n생명의 유일한 증거는 성장이다!</p>\n</blockquote>\n<blockquote>\n<p>⚛ (7.0)&#x3C;완전 개편> <code class=\"language-text\">파인만 학습법</code>을 알게 된만큼, 성장일지는 정말 그 날의 키워드 중심으로 간단하게 정리하도록 한다.</p>\n</blockquote>\n<h2 id=\"swiper-ux-개선\" style=\"position:relative;\"><a href=\"#swiper-ux-%EA%B0%9C%EC%84%A0\" aria-label=\"swiper ux 개선 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Swiper UX 개선</h2>\n<p>Swiper를 이용해서 Carousel을 구현 후, 배포하여 핸드폰에서 동작시켜보았다. 그런데 웬걸 슬라이드 UX가 뚝뚝 끊기면서 작동했다. 이 부분을 혹시 공식문서에서 지원하나 해서 찾아보았는데 다행히 <code class=\"language-text\">cssMode</code>라는 옵션을 제공하고 있었다. 이 옵션을 적용하니 슬라이드 UX가 매끄럽게 동작했다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">활성화하면 최신 CSS 스크롤 스냅 API를 사용합니다. Swiper의 모든 기능을 지원하지는 않지만 간단한 구성에서 훨씬 더 나은 성능을 제공할 수 있습니다.</code></pre></div>\n<p>적용하고 나서 슬라이드가 아주 매끄럽게 동작하게 되었다. 다만 문제는 데스크탑에서 터치 슬라이드가 되질 않는다는 것이었다. 구글링도 해보고 이것저것 다 해봤지만 <code class=\"language-text\">cssMode</code> 적용 후에는 어쩔 수 없는 것 같다. 그래도 유저에게 슬라이드를 넘겨줄 수 있는 UX를 제공하기 위해 Navigation 버튼을 추가했다.</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Swiper</span></span>\n  <span class=\"token attr-name\">className</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>h-full w-full<span class=\"token punctuation\">\"</span></span>\n  <span class=\"token attr-name\">modules</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">[</span>Autoplay<span class=\"token punctuation\">,</span> A11y<span class=\"token punctuation\">,</span> Navigation<span class=\"token punctuation\">,</span> Keyboard<span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span></span>\n  <span class=\"token attr-name\">autoplay</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> delay<span class=\"token operator\">:</span> <span class=\"token constant\">SWIPER</span><span class=\"token punctuation\">.</span><span class=\"token constant\">DELAY</span><span class=\"token punctuation\">,</span> disableOnInteraction<span class=\"token operator\">:</span> <span class=\"token boolean\">false</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span></span>\n  <span class=\"token attr-name\">freeMode</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">}</span></span>\n  <span class=\"token attr-name\">navigation</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>isDesktop<span class=\"token punctuation\">}</span></span>\n  <span class=\"token attr-name\">keyboard</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> enabled<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span></span>\n  <span class=\"token attr-name\">lazyPreloadPrevNext</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token constant\">SWIPER</span><span class=\"token punctuation\">.</span><span class=\"token constant\">LAZY_LOADED_PREV_NEXT</span><span class=\"token punctuation\">}</span></span>\n  <span class=\"token attr-name\">spaceBetween</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>bodyWidth <span class=\"token operator\">&lt;</span> <span class=\"token constant\">STANDARD</span><span class=\"token punctuation\">.</span><span class=\"token constant\">WIDTH</span> <span class=\"token operator\">?</span> bodyWidth <span class=\"token operator\">:</span> <span class=\"token constant\">SWIPER</span><span class=\"token punctuation\">.</span><span class=\"token constant\">SPACE_BETWEEN</span><span class=\"token punctuation\">}</span></span>\n  <span class=\"token attr-name\">slidesPerView</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token constant\">SWIPER</span><span class=\"token punctuation\">.</span><span class=\"token constant\">SLIDES_PER_VIEW</span><span class=\"token punctuation\">}</span></span>\n  <span class=\"token attr-name\">loop</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">}</span></span>\n  <span class=\"token attr-name\">loopedSlides</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token constant\">SWIPER</span><span class=\"token punctuation\">.</span><span class=\"token constant\">LOOPED_SLIDES</span><span class=\"token punctuation\">}</span></span>\n  <span class=\"token attr-name\">loopPreventsSliding</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">}</span></span>\n  <span class=\"token attr-name\">onRealIndexChange</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>swiper <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">setCurrentSlideIndex</span><span class=\"token punctuation\">(</span>swiper<span class=\"token punctuation\">.</span>realIndex<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span></span>\n  <span class=\"token attr-name\">cssMode</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">}</span></span>\n<span class=\"token punctuation\">></span></span></code></pre></div>\n<h2 id=\"github-issue-자동-close되던-문제\" style=\"position:relative;\"><a href=\"#github-issue-%EC%9E%90%EB%8F%99-close%EB%90%98%EB%8D%98-%EB%AC%B8%EC%A0%9C\" aria-label=\"github issue 자동 close되던 문제 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Github Issue 자동 close되던 문제</h2>\n<p>마이그레이션 프로젝트를 하면서 계속 내가 만든 이슈가 자동으로 close가 되어서 왜 이러나 했다.(진작 찾아볼걸… 반성) 처음엔 일정 시간이 지나면 닫히는건가 했는데 알고보니 커밋 메시지에 아래와 같은 단어와 이슈 넘버를 적어주면 자동으로 close가 된다고 한다.</p>\n<ul>\n<li>close, closes, closed, fix, fixes, fixed, resolve, resolves, resolved + #{issue number}: 이슈를 자동으로 close한다.</li>\n</ul>\n<h2 id=\"zustand를-통한-전역-상태-관리\" style=\"position:relative;\"><a href=\"#zustand%EB%A5%BC-%ED%86%B5%ED%95%9C-%EC%A0%84%EC%97%AD-%EC%83%81%ED%83%9C-%EA%B4%80%EB%A6%AC\" aria-label=\"zustand를 통한 전역 상태 관리 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>zustand를 통한 전역 상태 관리</h2>\n<p>여러 상태 관리 라이브러리 중 이상하게 zustand가 땡긴다 허헣… 일단 사용법이 정말 간단하면서 Redux Devtools도 지원하고 무엇보다 demo 사이트가 정말 너무 예쁘다ㅋㅋㅋ Jotai를 개발하신 분이랑 동일인물이라고 알고 있는데, 뭔가 Zustand에 더 공을 들이시는 느낌..? (또, npm trends를 보면 zustand의 사용량 증가가 정말 어마어마하게 증가하고 있다..! 곧 Redux 따라잡을듯..?) 이번에 Next와 처음으로 같이 사용해봤는데 client 컴포넌트에서 정말 깔끔하게 전역 상태 관리를 할 수 있어서 너어어어어무 좋은 것 같다. 아래는 간단하게 사용해본 코드이다.(유저의 선택을 저장하는 스토어)</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> create <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'zustand'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> UserSelect <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@/types'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">type</span> <span class=\"token class-name\">State</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  userSelect<span class=\"token operator\">:</span> UserSelect<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">type</span> <span class=\"token class-name\">Action</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function-variable function\">setUserSelectSize</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span>sizeId<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token keyword\">void</span><span class=\"token punctuation\">;</span>\n  <span class=\"token function-variable function\">setUserSelectIngredientIds</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span>ingredientIds<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token keyword\">void</span><span class=\"token punctuation\">;</span>\n  <span class=\"token function-variable function\">reset</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token keyword\">void</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> initialState<span class=\"token operator\">:</span> State <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  userSelect<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    sizeId<span class=\"token operator\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span>\n    ingredientIds<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> useUserSelectStore <span class=\"token operator\">=</span> <span class=\"token generic-function\"><span class=\"token function\">create</span><span class=\"token generic class-name\"><span class=\"token operator\">&lt;</span>State <span class=\"token operator\">&amp;</span> Action<span class=\"token operator\">></span></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>set<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  <span class=\"token operator\">...</span>initialState<span class=\"token punctuation\">,</span>\n  <span class=\"token function-variable function\">setUserSelectSize</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span>sizeId<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span>\n    <span class=\"token function\">set</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>state<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> userSelect<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token operator\">...</span>state<span class=\"token punctuation\">.</span>userSelect<span class=\"token punctuation\">,</span> sizeId <span class=\"token punctuation\">}</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token function-variable function\">setUserSelectIngredientIds</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span>ingredientIds<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span>\n    <span class=\"token function\">set</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>state<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> userSelect<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token operator\">...</span>state<span class=\"token punctuation\">.</span>userSelect<span class=\"token punctuation\">,</span> ingredientIds <span class=\"token punctuation\">}</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token function-variable function\">reset</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">set</span><span class=\"token punctuation\">(</span>initialState<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>예전엔 대충 공식문서 읽고 혼자서 짰는데, 다시 공식문서를 꼼꼼하게 보면서 좀더 편하게 작성할 수 있었다. 추후에 Immer와 함께 사용해서 좀더 깔끔하고 편하게 짜봐야겠다. 지금 state 정도에서는 Immer를 굳이 적용할 필요가 없는 것 같다.</p>\n<h1 id=\"-회고\" style=\"position:relative;\"><a href=\"#-%ED%9A%8C%EA%B3%A0\" aria-label=\" 회고 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>📝 회고</h1>\n<p>그래도 오늘도 페이지 하나 마이그레이션이 끝났다. 적용하고 싶었던 zustand도 내 개인적으론 Next와 잘 맞는 느낌이라 재미있게 잘 사용할 수 있었다. 생각보다 이전에 구현했던 Carousel 쪽에서 문제가 많이 발생해서 조금 귀찮았지만… 일단은 UX 적으로는 문제없이 잘 마무리한 것 같다!</p>\n<h2 id=\"참고\" style=\"position:relative;\"><a href=\"#%EC%B0%B8%EA%B3%A0\" aria-label=\"참고 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>참고</h2>\n<ul>\n<li><a href=\"https://github.com/nolimits4web/swiper/issues/3841\">Swiper UX in Mobile</a></li>\n<li><a href=\"https://stackoverflow.com/questions/12235620/automatically-closing-issue-from-pull-request-in-github\">Github auto close issue</a></li>\n<li><a href=\"https://docs.pmnd.rs/zustand/getting-started/introduction\">Zustand</a></li>\n</ul>\n<div class=\"table-of-contents\">\n<ul>\n<li><a href=\"#swiper-ux-%EA%B0%9C%EC%84%A0\">Swiper UX 개선</a></li>\n<li><a href=\"#github-issue-%EC%9E%90%EB%8F%99-close%EB%90%98%EB%8D%98-%EB%AC%B8%EC%A0%9C\">Github Issue 자동 close되던 문제</a></li>\n<li><a href=\"#zustand%EB%A5%BC-%ED%86%B5%ED%95%9C-%EC%A0%84%EC%97%AD-%EC%83%81%ED%83%9C-%EA%B4%80%EB%A6%AC\">zustand를 통한 전역 상태 관리</a></li>\n<li><a href=\"#%EC%B0%B8%EA%B3%A0\">참고</a></li>\n</ul>\n</div>","frontmatter":{"date":"October 11, 2023","title":"231011(수) 성장","categories":"성장일지","author":"제이든","emoji":"🌱"},"fields":{"slug":"/steadily/growth-diary/2023/10/11/"}},"prev":{"id":"d273d70e-e86f-565a-893f-9db22a6bb10a","html":"<p>이 글은 스터디에서 <a href=\"https://goidle.github.io/react/in-depth-react-preview/\">리액트 톺아보기 1. Preview</a>를 읽고 정리하며 주관적으로 정리한 글입니다. 글을 읽고 핵심적이거나 더 깊게 보고 싶은 부분을 정리하였습니다. 원문보다 더 가독성이 좋지 못할(?) 수 있으니 원문도 읽어보시는 것을 추천드립니다.</p>\n<p>또한, 글을 읽고 이해한 내용을 바탕으로 작성한 글이기 때문에 틀린 내용이 있을 수 있습니다. 틀린 내용이 있다면 댓글로 알려주시면 감사하겠습니다.</p>\n<h1 id=\"️-리액트-톺아보기\" style=\"position:relative;\"><a href=\"#%EF%B8%8F-%EB%A6%AC%EC%95%A1%ED%8A%B8-%ED%86%BA%EC%95%84%EB%B3%B4%EA%B8%B0\" aria-label=\"️ 리액트 톺아보기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>⚛️ 리액트 톺아보기</h1>\n<h2 id=\"왜-code-classlanguage-text리액트-톺아보기code를-보는가\" style=\"position:relative;\"><a href=\"#%EC%99%9C-code-classlanguage-text%EB%A6%AC%EC%95%A1%ED%8A%B8-%ED%86%BA%EC%95%84%EB%B3%B4%EA%B8%B0code%EB%A5%BC-%EB%B3%B4%EB%8A%94%EA%B0%80\" aria-label=\"왜 code classlanguage text리액트 톺아보기code를 보는가 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>왜 <code class=\"language-text\">리액트 톺아보기</code>를 보는가</h2>\n<p>Next.js를 통해 한층 더 추상화된 React를 사용하다보니, 아이러니하게도 React에 대한 더 깊은 이해가 필요하겠다는 갈증이 들었다. 리액트 공식문서도 혼자서 1번, 스터디에서 1번 읽었지만 뭐랄까… 전반적인 React의 컨셉과 api 사용법은 알겠으나 그 내부 구현에 대한 건 생각보다 깊이 있게 들어가기가 힘들었다. 그러던 중 <code class=\"language-text\">리액트 톺아보기</code> 글을 발견하였고 한국말로 정리된 글 중 가장 깊이있는 글이라고 생각하여 해당 글을 읽기로 했다! 부디 지금 내가 느끼는 리액트에 대한 갈증이 해결되었으면 좋겠다.</p>\n<h2 id=\"1-글의-목적\" style=\"position:relative;\"><a href=\"#1-%EA%B8%80%EC%9D%98-%EB%AA%A9%EC%A0%81\" aria-label=\"1 글의 목적 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. 글의 목적</h2>\n<p>리액트를 사용할 줄은 알지만, 아직도 리액트가 마법처럼 느껴지는 사람들을 위해 작성된 글이다.(나잖아..?) 그렇기에 리액트 응용, 에러 디버깅 등에 어려움을 겪을 수 있다.(난데..?)</p>\n<p>시리즈는 유저와의 인터렉션으로부터 훅을 통해 컴포넌트가 업데이트되고 DOM에 마운트되기까지의 과정을 실제 코드를 까보면서 진행될 예정이다.</p>\n<p>이 시리즈를 다 읽고나면 <code class=\"language-text\">Virtual DOM이 무엇인지, 컴포넌트 상태가 바뀌었을 때 리액트는 어떻게 해당 컴포넌트를 리렌더링시키는지, 어떻게 변경된 부분만 DOM에 마운트되는지, hook은 컴포넌트와 어떤 방식으로 매핑되어 사용되는지, 이벤트 구현은 어떻게 되어있는지 등</code>에 대한 큰 흐름을 이해할 수 있게 될 것이다. (🥳)</p>\n<blockquote>\n<p>저자는 글에 들어가기 앞서 리액트 패키지 폴더구조와 그 안에 무엇이 있는지 간단하게 살펴볼 것을 권장하고 있다.</p>\n</blockquote>\n<p>버전 16.3의 리액트 패키지 구조는 아래와 같다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 67.22222222222223%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAABYlAAAWJQFJUiTwAAABeUlEQVQ4y4VT2W6EMAzk//+xUhdyEnIBC+GQprL3glbbfRjJSuyxx5NUX7WGCwkuZLQ+vQXlSNPiu5FolEEX873unFcJNyKlhBgTlmXBuq5vMQwjYoycn3Pm+Hq9Ytu2Z071rRO01jDGcCIdEvENr5jOnXNoGgEhJJTSHPuYT3nVxSSEELigPIn+gu59CNDacHNtDJM6nzDN5UzoXMdjL58IvefpiNRaC6kUqzrWVheTuVvf9we56y88CAOkVBBCQCgL6yLKPGM51FW1zdwxpfMu3knuvOepKD+QKdN02jubQp33ff8geWPJrXPsLqHrPPp+OEx4l0xLJinjOHLhX9kL1m1jgrquIaSCth26ruOafd+OknveIV2WUj6YEviJadPCtC/peZh+maINS/nkMu1PSHqDCkpJXOoGtnXoxwnzXFDKfYf0S7bnDtc3Lm9siiRC4+B85N+SCCnCh4zUT6gam1nKfw4/JqTG/AZbDx9u3++BlAf044wfkonlqJHcVt0AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"리액트 패키지 폴더 구조\"\n        title=\"리액트 패키지 폴더 구조\"\n        src=\"/static/114a7c395baeee3fe53ad46181aa18c8/37523/1-react-structure.png\"\n        srcset=\"/static/114a7c395baeee3fe53ad46181aa18c8/e9ff0/1-react-structure.png 180w,\n/static/114a7c395baeee3fe53ad46181aa18c8/f21e7/1-react-structure.png 360w,\n/static/114a7c395baeee3fe53ad46181aa18c8/37523/1-react-structure.png 720w,\n/static/114a7c395baeee3fe53ad46181aa18c8/302a4/1-react-structure.png 1080w,\n/static/114a7c395baeee3fe53ad46181aa18c8/07a9c/1-react-structure.png 1440w,\n/static/114a7c395baeee3fe53ad46181aa18c8/37563/1-react-structure.png 2228w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>아래에도 나오겠지만, 일단 눈에 띄는 건 <code class=\"language-text\">react</code>, <code class=\"language-text\">react-dom</code>, <code class=\"language-text\">react-reconciler</code>, <code class=\"language-text\">scheduler</code>, <code class=\"language-text\">react-cache</code>, <code class=\"language-text\">events</code> 정도가 되지 않을까 싶다.</p>\n<p>각 폴더를 들어가보면 아래와 같은 내용이 나온다.</p>\n<p><code class=\"language-text\">react</code></p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">React is a JavaScript library for creating user interfaces.\n리액트는 UI를 생성하기 위한 라이브러리임\n\nThe react package contains only the functionality necessary to define React components. It is typically used together with a React renderer like react-dom for the web, or react-native for the native environments.\n리액트 패키지는 오직 리액트 컴포넌트를 정의하기 위한 기능적 필요한 것들만 포함한다. 이건 보통 웹을 위한 react-dom이나 네이티브 환경을 위한 react-native와 함께 사용된다.\n\nNote: by default, React will be in development mode. The development version includes extra warnings about common mistakes, whereas the production version includes extra performance optimizations and strips all error messages. Don't forget to use the production build when deploying your application.</code></pre></div>\n<p><code class=\"language-text\">react-dom</code></p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">This package serves as the entry point to the DOM and server renderers for React. It is intended to be paired with the generic React package, which is shipped as react to npm.\n이 패키지는 리액트를 위한 DOM과 서버 렌더러의 진입점 역할을 한다. 이건 보통 npm에 react로 배포되는 일반적인 리액트 패키지와 함께 사용된다.</code></pre></div>\n<p><code class=\"language-text\">react-reconciler</code></p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">This is an experimental package for creating custom React renderers.\n이건 커스텀 리액트 렌더러를 만들기 위한 실험적인 패키지임\n\nIts API is not as stable as that of React, React Native, or React DOM, and does not follow the common versioning scheme.\n이 패키지의 API는 React, React Native, React DOM보다 안정적이지 않고, 일반적인 버전 관리 방식을 따르지 않는다.\n\n...? 일단 패스</code></pre></div>\n<p><code class=\"language-text\">scheduler</code></p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">This is a package for cooperative scheduling in a browser environment. It is currently used internally by React, but we plan to make it more generic.\n이건 브라우저 환경에서 협력적인 스케줄링을 위한 패키지임. 현재는 리액트 내부에서만 사용되지만, 더 일반적인 용도로 사용할 계획이다.\n\nThe public API for this package is not yet finalized.\n이 패키지의 공개 API는 아직 최종화되지 않았다.\n\n흠... 스케쥴러도 아직 뭔지는 잘 모르겠다. 패스</code></pre></div>\n<p><code class=\"language-text\">react-cache</code></p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">A basic cache for React applications. It also serves as a reference for more advanced caching implementations.\n리액트 애플리케이션을 위한 기본적인 캐시. 더 고급진 캐싱 구현을 위한 참고자료로도 사용된다.\n\nThis package is meant to be used alongside yet-to-be-released, experimental React features. It's unlikely to be useful in any other context.\n이 패키지는 아직 릴리즈되지 않은 실험적인 리액트 기능들과 함께 사용하기 위해 만들어졌다. 다른 컨텍스트에서는 유용하지 않을 것이다.\n\nDo not use in a real application. We're publishing this early for demonstration purposes.\n진짜 애플리케이션에서는 사용하지 마라. 우리는 이걸 데모 목적으로 일찍 배포하고 있다.\n\n여기도 아직은... (16버전이 나왔을 당시에는..!)</code></pre></div>\n<p>우선 위와 같은 역할들이 나누어져 있다는 것만 인지하고 시작해보자.</p>\n<h2 id=\"2-리액트-패키지-구조\" style=\"position:relative;\"><a href=\"#2-%EB%A6%AC%EC%95%A1%ED%8A%B8-%ED%8C%A8%ED%82%A4%EC%A7%80-%EA%B5%AC%EC%A1%B0\" aria-label=\"2 리액트 패키지 구조 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. 리액트 패키지 구조</h2>\n<h3 id=\"react\" style=\"position:relative;\"><a href=\"#react\" aria-label=\"react permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>react</h3>\n<ul>\n<li>컴포넌트 정의와 관련된 패키지</li>\n<li>React Element를 만드는 <code class=\"language-text\">createElement()</code>와 개발자에게 다른 패키지 모듈을 제공하는 중간 역할</li>\n<li>다른 패키지에 대한 의존가 없기 때문에 여러 플랫폼에서 사용 가능</li>\n</ul>\n<h3 id=\"renderer\" style=\"position:relative;\"><a href=\"#renderer\" aria-label=\"renderer permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>renderer</h3>\n<ul>\n<li>react-dom, react-native-renderer 등 호스트의 렌더링 환경에 의존하는 패키지</li>\n<li>호스트와 react를 연결하는 역할</li>\n</ul>\n<h3 id=\"event\" style=\"position:relative;\"><a href=\"#event\" aria-label=\"event permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>event</h3>\n<ul>\n<li>SyntheticEvent(합성 이벤트)라는 명칭으로 내부적으로 개발된 이벤트 시스템</li>\n<li>개발자가 event를 제어하기 위해 기존 이벤트 시스템에 wrapping한 방식으로 이벤트 풀링, 이벤트 위임 등을 사용하여 구현됨</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">Chat GPT\n\n리액트(React)에서 SyntheticEvent는 웹 애플리케이션 개발에서 이벤트 처리를 도와주는 중요한 개념 중 하나입니다. SyntheticEvent는 React에서 이벤트 처리를 추상화한 것으로, 웹 브라우저의 네이티브 이벤트를 래핑하여 제공합니다. 이를 통해 브라우저 간 호환성 문제를 해결하고, React 애플리케이션에서 이벤트 핸들링을 간단하게 만들어줍니다.\n\nSyntheticEvent의 주요 특징과 동작 방식을 자세히 설명하겠습니다:\n\n1. 브라우저 호환성 처리: SyntheticEvent는 브라우저 간 이벤트 핸들링의 차이를 추상화하므로, 다양한 브라우저에서 동일한 방식으로 이벤트를 처리할 수 있게 도와줍니다.\n\n2. 이벤트 풀링(Event Pooling): React는 이벤트 풀링을 통해 SyntheticEvent를 재사용합니다. 이것은 이벤트가 처리된 후에 해당 이벤트 객체를 재설정하고 다시 사용할 수 있게 합니다. 이로 인해 메모리 사용량을 줄이고 성능을 향상시킵니다.\n\n3. 이벤트 핸들러 작성: 컴포넌트에서 이벤트 핸들러를 작성할 때, SyntheticEvent를 사용하여 이벤트 정보에 접근할 수 있습니다. 예를 들어, 버튼 클릭 이벤트를 처리하는 핸들러 함수 내에서 `event.target`을 사용하여 이벤트가 발생한 DOM 요소에 접근할 수 있습니다.\n\n4. 이벤트 전파 방지: SyntheticEvent를 사용하여 이벤트 전파를 조절할 수 있습니다. 예를 들어, `event.stopPropagation()`을 호출하여 이벤트의 상위 요소로의 전파를 막을 수 있습니다.\n\n5. 동기 처리: SyntheticEvent는 비동기적으로 처리되지 않으며, 이벤트 핸들러가 실행 중일 때에만 유효합니다. 따라서 이벤트 핸들러 내에서 상태 업데이트 및 렌더링과 관련된 작업을 안전하게 수행할 수 있습니다.\n\n간단히 말해, SyntheticEvent는 React에서 이벤트 처리를 간편하게 만들어주고 브라우저 간 호환성 문제를 처리하는데 도움을 주는 중요한 도구입니다. 이를 통해 React 애플리케이션을 더 효율적으로 작성하고 유지보수할 수 있습니다.</code></pre></div>\n<h3 id=\"scheduler\" style=\"position:relative;\"><a href=\"#scheduler\" aria-label=\"scheduler permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>scheduler</h3>\n<ul>\n<li>리액트는 여러가지 이유로 작업을 비동기로 진행함</li>\n<li>Task란 이름으로 우선순위에 따라 스케쥴링됨</li>\n<li>이 때, Task를 실행하기에 가장 적절한 시점을 결정하는 것이 스케쥴러</li>\n<li>즉, 리액트는 비동기 실행의 책임을 스케쥴러에게 위임하고 있다.</li>\n<li>호스트 환경에 의존적이다.</li>\n</ul>\n<h3 id=\"react-reconciler-리액트의-vdom과-관련된-패키지\" style=\"position:relative;\"><a href=\"#react-reconciler-%EB%A6%AC%EC%95%A1%ED%8A%B8%EC%9D%98-vdom%EA%B3%BC-%EA%B4%80%EB%A0%A8%EB%90%9C-%ED%8C%A8%ED%82%A4%EC%A7%80\" aria-label=\"react reconciler 리액트의 vdom과 관련된 패키지 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>react-reconciler: 리액트의 VDOM과 관련된 패키지</h3>\n<ul>\n<li>리액트의 핵심 패키지</li>\n<li>v15 이전에는 <code class=\"language-text\">stack</code> 기반으로 구현</li>\n<li>v16 이후에는 <code class=\"language-text\">fiber architecture</code> 기반으로 구현</li>\n</ul>\n<h2 id=\"3-용어-정리\" style=\"position:relative;\"><a href=\"#3-%EC%9A%A9%EC%96%B4-%EC%A0%95%EB%A6%AC\" aria-label=\"3 용어 정리 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. 용어 정리</h2>\n<h3 id=\"컴포넌트-구분\" style=\"position:relative;\"><a href=\"#%EC%BB%B4%ED%8F%AC%EB%84%8C%ED%8A%B8-%EA%B5%AC%EB%B6%84\" aria-label=\"컴포넌트 구분 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>컴포넌트 구분</h3>\n<ul>\n<li>스태틱 컴포넌트: 리액트에서 자체 제공하는 컴포넌트</li>\n<li>호스트 컴포넌트: 플랫폼에서 제공하는 컴포넌트</li>\n<li>커스텀 컴포넌트: 개발자가 직접 만든 컴포넌트</li>\n</ul>\n<h3 id=\"렌더링\" style=\"position:relative;\"><a href=\"#%EB%A0%8C%EB%8D%94%EB%A7%81\" aria-label=\"렌더링 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>렌더링?</h3>\n<ul>\n<li>일반적으로 <code class=\"language-text\">컴포넌트 렌더링 === 컴포넌트 호출</code></li>\n<li>하지만 세부적으로 가면 여러 단계가 더 존재하기 때문에 세분화가 필요하다.</li>\n<li>컴포넌트의 호출은 <code class=\"language-text\">reconciler</code>에서 한다. 그 다음 VDOM 재조정 과정이 진행되고 이후에 <code class=\"language-text\">renderer</code>에서 마운트를 한다. 즉, <code class=\"language-text\">컴포넌트의 호출 !== DOM 삽입</code>이다. 심지어 리액트에서는 DOM 삽입과 화면에 그려지는 것 또한 별개로 다룬다. 🤔</li>\n</ul>\n<p>정리해보자면</p>\n<ul>\n<li><code class=\"language-text\">렌더링</code>: 컴포넌트가 호출되어 자식을 반환하고 VDOM에 적용하는 과정 => reconciler가 하는 일</li>\n<li><code class=\"language-text\">마운트</code>: VDOM을 실제 DOM에 적용하는 과정 => renderer가 하는 일</li>\n<li><code class=\"language-text\">페인트</code>: 브라우저가 마운트된 DOM을 화면에 그리는 과정</li>\n</ul>\n<p>흠… 흔히 우리가 리액트에서 <code class=\"language-text\">렌더링이 일어난다</code>고 표현하는 것도 개발자마다 조금씩 다른 느낌으로 쓰는 것 같다. 위의 정의대로 일단 기억하도록 하자!!</p>\n<blockquote>\n<p><code class=\"language-text\">컴포넌트 호출</code>: 그저 React Element를 반환하는 함수를 호출하는 것! 그 이상도, 그 이하도 아니다.</p>\n</blockquote>\n<h3 id=\"virtual-domvdom-가상돔\" style=\"position:relative;\"><a href=\"#virtual-domvdom-%EA%B0%80%EC%83%81%EB%8F%94\" aria-label=\"virtual domvdom 가상돔 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Virtual DOM(VDOM; 가상돔)</h3>\n<ol>\n<li>\n<p>reactElement, fiber</p>\n<ul>\n<li>reactElement: 컴포넌트의 정보를 담은 모델 <code class=\"language-text\">객체</code>, 컴포넌트가 반환하는 것은 JSX가 아니라 reactElement(객체)이다.</li>\n<li>fiber: VDOM의 노드 객체, reactElement를 VDOM에 올리기 위해 확장한 객체이다. fiber를 통해 컴포넌트의 상태, 훅, 라이프 사이클 등 대부분의 것들이 관리된다.\n<ul>\n<li>(GPT) 컴포넌트의 정보를 담은 모델 <code class=\"language-text\">트리</code>, 컴포넌트의 정보를 담은 reactElement를 트리 구조로 관리하는 것이 fiber이다.</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p>current, workInProgress</p>\n</li>\n</ol>\n<ul>\n<li>리액트는 더블 버퍼링 형태로 VDOM을 설계하였다.</li>\n<li>current: 마운트가 끝난 트리 => 현재 VDOM</li>\n<li>workInProgress: 업데이트가 적용중인 트리 => 변경된(변경 중인) VDOM</li>\n</ul>\n<blockquote>\n<p>버퍼란 <code class=\"language-text\">어떤 장치에서 다른 장치로 데이터를 송신할 때 일어나는 시간의 차이나 데이터 흐름의 속도 차이를 조정하기 위해 일시적으로 데이터를 기억시키는 장치</code>이다.(<a href=\"https://ko.wikipedia.org/wiki/%EB%8B%A4%EC%A4%91_%EB%B2%84%ED%8D%BC%EB%A7%81\">위키백과</a>)<br/>\n더블 버퍼링이란 <code class=\"language-text\">데이터를 기억시키는 장치를 2개 사용하여 데이터를 송신하는 장치와 수신하는 장치의 속도 차이를 조정하는 방식</code>이다.<br/>\n즉, 리액트의 VDOM은 현재의 VDOM과 변경 중인 VDOM을 따로 관리하여 변경 중인 VDOM이 완성되면 현재의 VDOM과 교체하는 방식으로 동작한다.</p>\n</blockquote>\n<h1 id=\"출처\" style=\"position:relative;\"><a href=\"#%EC%B6%9C%EC%B2%98\" aria-label=\"출처 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>출처</h1>\n<ul>\n<li><a href=\"https://goidle.github.io/react/in-depth-react-preview/\">리액트 톺아보기 1. Preview</a></li>\n<li><a href=\"https://github.com/facebook/react/tree/16.3-dev/packages\">React v16.3.0 packages</a></li>\n<li><a href=\"https://ko.wikipedia.org/wiki/%EB%8B%A4%EC%A4%91_%EB%B2%84%ED%8D%BC%EB%A7%81\">위키백과: 버퍼</a></li>\n<li><a href=\"https://coding-factory.tistory.com/692\">더블 버퍼링이란</a></li>\n</ul>\n<div class=\"table-of-contents\">\n<ul>\n<li>\n<p><a href=\"#%EC%99%9C-%EB%A6%AC%EC%95%A1%ED%8A%B8-%ED%86%BA%EC%95%84%EB%B3%B4%EA%B8%B0%EB%A5%BC-%EB%B3%B4%EB%8A%94%EA%B0%80\">왜 <code class=\"language-text\">리액트 톺아보기</code>를 보는가</a></p>\n</li>\n<li>\n<p><a href=\"#1-%EA%B8%80%EC%9D%98-%EB%AA%A9%EC%A0%81\">1. 글의 목적</a></p>\n</li>\n<li>\n<p><a href=\"#2-%EB%A6%AC%EC%95%A1%ED%8A%B8-%ED%8C%A8%ED%82%A4%EC%A7%80-%EA%B5%AC%EC%A1%B0\">2. 리액트 패키지 구조</a></p>\n<ul>\n<li><a href=\"#react\">react</a></li>\n<li><a href=\"#renderer\">renderer</a></li>\n<li><a href=\"#event\">event</a></li>\n<li><a href=\"#scheduler\">scheduler</a></li>\n<li><a href=\"#react-reconciler-%EB%A6%AC%EC%95%A1%ED%8A%B8%EC%9D%98-vdom%EA%B3%BC-%EA%B4%80%EB%A0%A8%EB%90%9C-%ED%8C%A8%ED%82%A4%EC%A7%80\">react-reconciler: 리액트의 VDOM과 관련된 패키지</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#3-%EC%9A%A9%EC%96%B4-%EC%A0%95%EB%A6%AC\">3. 용어 정리</a></p>\n<ul>\n<li><a href=\"#%EC%BB%B4%ED%8F%AC%EB%84%8C%ED%8A%B8-%EA%B5%AC%EB%B6%84\">컴포넌트 구분</a></li>\n<li><a href=\"#%EB%A0%8C%EB%8D%94%EB%A7%81\">렌더링?</a></li>\n<li><a href=\"#virtual-domvdom-%EA%B0%80%EC%83%81%EB%8F%94\">Virtual DOM(VDOM; 가상돔)</a></li>\n</ul>\n</li>\n</ul>\n</div>","frontmatter":{"date":"October 14, 2023","title":"React 톺아보기를 톺아보기 - 1","categories":"스터디 아티클","author":"제이든","emoji":"⚛️"},"fields":{"slug":"/from-time-to-time/study/in-depth-react/1-preview/"}},"site":{"siteMetadata":{"siteUrl":"https://JaydenLee1116.github.io","comments":{"utterances":{"repo":"JaydenLee1116/JaydenLee1116.github.io"}}}}},"pageContext":{"slug":"/steadily/growth-diary/2023/10/13/","nextSlug":"/steadily/growth-diary/2023/10/11/","prevSlug":"/from-time-to-time/study/in-depth-react/1-preview/"}},"staticQueryHashes":["1073350324","1956554647","2938748437"]}