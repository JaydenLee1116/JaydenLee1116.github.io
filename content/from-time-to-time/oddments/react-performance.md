---
emoji: ğŸ“¦
title: useEffect vs useMemo vs useCallback vs useRef vs React.memo
date: '2023-05-02 16:20:00'
author: ì œì´ë“ 
tags:
categories: ì¡ë™ì‚¬ë‹ˆ
---

## ğŸ“¦ ì¡ë™ì‚¬ë‹ˆ

í•˜ë‚˜ì˜ í‚¤ì›Œë“œë¥¼ ì¡ê³  ì¢€ í¸í•˜ê²Œ ì •ë¦¬í•˜ê³  ì‹¶ì–´ ë§Œë“  `ì¡ë™ì‚¬ë‹ˆ`<br/>

> ì¡ë™ì‚¬ë‹ˆëŠ” ì¡°ì„  í›„ê¸° í•™ì `ì•ˆì •ë³µ`ì´ í¸ì°¬í•œ `ì¡ë™ì‚°ì´(é›œåŒæ•£ç•°)`ì—ì„œ ìœ ë˜ëœ ë§ì´ë‹¤.
> ì¡ë™ì‚°ì´ëŠ” `ì¡ê¸°(é›œè¨˜)`ì˜ í˜•íƒœë¥¼ ë¹Œë ¤ì˜¨ ì±…ìœ¼ë¡œ êµ¬ì²´ì ì¸ ì²´ê³„ê°€ ì¡í˜€ìˆì§€ ì•Šì€ í˜•ì‹ì´ë‹¤.
> í•­ëª©ì´ ë‹¤ì†Œ ë‚œì¡í•˜ê³  ë‚´ìš©ì˜ êµ¬ë¶„ì´ í˜¼ë™ë˜ì–´ìˆë‹¤ê³  í•œë‹¤. ğŸ¤£

## ğŸ—‚ï¸ useEffect vs useMemo vs useCallback vs useRef vs React.memo

- í›…ë“¤ì„ ë‹¤ì‹œ ë³µìŠµí•˜ëŠ”ë°... ì´ ë…€ì„ë“¤ ì •ë§ ë¬˜í•˜ê²Œ ì•„ì£¼ ë¬˜í•˜ê²Œ ë‹¤ë¥´ë‹¤.
- ê°ê°ì˜ ëª©ì  ê·¸ë¦¬ê³  ì´ë¦„ì— ë‹´ê¸´ ì˜ë¯¸, í™œìš©ì„ ê°„ë‹¨í•˜ê²Œ ê¸°ë¡í•´ë‘ë ¤ í•œë‹¤.

### useEffect

- ì—¬ê¸°ì„œ Effectë€ `Side Effect`ë¥¼ ì˜ë¯¸í•œë‹¤.
- ë¦¬ì•¡íŠ¸ëŠ” ë Œë”ë§ ê²°ê³¼ë¬¼ì„ í™”ë©´ì— ë°˜ì˜í•˜ëŠ” ê²ƒì´ ì£¼ëª©ì ì´ë‹¤.
- ì´ ë•Œ, ë Œë”ë§ê³¼ ë¬´ê´€í•œ ì‘ì—…ë“¤ì„ `Side Effect`ë¼ê³  í•  ìˆ˜ ìˆë‹¤.
- `useEffect`ëŠ” ì´ëŸ¬í•œ `Side Effect`ë¥¼ ìˆ˜í–‰í•˜ê¸° ìœ„í•´ ì‚¬ìš©í•œë‹¤.
- ì˜ˆë¥¼ ë“¤ì–´ `useEffect`ë¥¼ ì‚¬ìš©í•˜ì—¬ `fetch` ìš”ì²­ì„ ë³´ë‚´ê±°ë‚˜, `ë¡œê·¸`ë¥¼ ë‚¨ê¸°ê±°ë‚˜, `íƒ€ì´ë¨¸`ë¥¼ ì„¤ì •í•  ìˆ˜ ìˆë‹¤.

```jsx
import {useEffect} from "react";

function Example() {
  // ...
  useEffect(() => {
    fetch('https://api.example.com/items')
      .then(res => res.json())
      .then((data) => { })
    return () => {
      // cleanup
    }    
  }, [x])
  return (
    <div>
    </div>
  );
}
```

ìœ„ì˜ ì˜ˆì‹œ ì½”ë“œì—ì„œ useEffect ë‚´ì˜ í•¨ìˆ˜ëŠ” `fetch` ìš”ì²­ì„ ë³´ë‚´ê³ , `cleanup` í•¨ìˆ˜ë¥¼ ë°˜í™˜í•œë‹¤.
ì´ ë•Œ, xê°€ ì—†ì´ ë¹ˆ ë°°ì—´ì´ë¼ë©´ ì²« mount ë•Œ fetch í•¨ìˆ˜ê°€ ì‹¤í–‰ë˜ê³  unmount ë•Œ cleanup í•¨ìˆ˜ê°€ ì‹¤í–‰ëœë‹¤.
xê°€ ìˆì„ ê²½ìš°, ì²« ë§ˆìš´íŠ¸ ë•Œ ê·¸ë¦¬ê³  xê°€ ë³€ê²½ë  ë•Œë§ˆë‹¤ fetch í•¨ìˆ˜ê°€ ì‹¤í–‰ë˜ê³ , xê°€ ë³€ê²½ë˜ê¸° ì§ì „ì— ê·¸ë¦¬ê³  unmount ë•Œ cleanup í•¨ìˆ˜ê°€ ì‹¤í–‰ëœë‹¤.

ì¦‰, useEffectëŠ” ë Œë”ë§ê³¼ ë¬´ê´€í•œ ì‘ì—…ì„ ìˆ˜í–‰í•˜ê¸° ìœ„í•´ ì‚¬ìš©ë˜ëŠ” hookì´ë‹¤.

### useMemo

- Memoë€ Memoryì˜ ì•½ìë¡œ, `ë©”ëª¨ë¦¬`ë¥¼ ì˜ë¯¸í•œë‹¤. ì¦‰, ì ì‹œ ê¸°ì–µí•´ë‘ê¸° ìœ„í•œ ìš©ë„ë¡œ ì‚¬ìš©ëœë‹¤.
- useMemoëŠ” ì „ë‹¬ë˜ëŠ” í•¨ìˆ˜ì˜ ë°˜í™˜ê°’ì„ ê¸°ì–µí•œë‹¤.

```jsx
const memoValue = useMemo(() => {return 'memo value!'}, [x]);
```

- xì˜ ê°’ì´ ë³€ê²½ë˜ê¸° ì „ê¹Œì§€ëŠ” 'memo value!'ë¥¼ ê¸°ì–µí•˜ê³  ìˆë‹¤ê°€, xì˜ ê°’ì´ ë³€ê²½ë˜ë©´ ë‹¤ì‹œ í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•˜ì—¬ ë°˜í™˜ê°’ì„ ê¸°ì–µí•œë‹¤.
- íŒŒë¼ë¯¸í„°ë¡œ ì „ë‹¬ëœ `ì½œë°± í•¨ìˆ˜ê°€ ì‹¤í–‰ë˜ì–´ ë°˜í™˜í•˜ëŠ” ê°’`ì„ ê¸°ì–µí•œë‹¤.

### useCallback

- Callbackì´ë€ `í•¨ìˆ˜`ë¥¼ ì˜ë¯¸í•œë‹¤. ì¦‰, í•¨ìˆ˜ë¥¼ ê¸°ì–µí•˜ê¸° ìœ„í•œ ìš©ë„ë¡œ ì‚¬ìš©ëœë‹¤.

```jsx
const callback = useCallback(() => {return 'callback function!'}, [x]);
```

- xì˜ ê°’ì´ ë³€ê²½ë˜ê¸° ì „ê¹Œì§€ëŠ” `ì „ë‹¬ëœ ì½œë°± í•¨ìˆ˜ ìì²´ë¥¼ ê¸°ì–µ`í•˜ê³  ìˆë‹¤ê°€, xì˜ ê°’ì´ ë³€ê²½ë˜ë©´ ë‹¤ì‹œ ê·¸ ì½œë°± í•¨ìˆ˜ë¥¼ ê¸°ì–µí•œë‹¤.

```jsx
const memoCallback = useMemo(() => () => {return 'callback function!'}, [x]);
```

- useMemoë¥¼ í†µí•´ ì½œë°± í•¨ìˆ˜ë¥¼ ê¸°ì–µí•˜ê³ , ê·¸ ì½œë°± í•¨ìˆ˜ë¥¼ useCallbackì„ í†µí•´ ê¸°ì–µí•˜ëŠ” ê²ƒê³¼ ë™ì¼í•˜ë‹¤.

### useRef

- Refë€ `ì°¸ì¡°`ë¥¼ ì˜ë¯¸í•œë‹¤. ì¦‰, ì°¸ì¡°ë¥¼ ìœ„í•œ ìš©ë„ë¡œ ì‚¬ìš©ëœë‹¤.
- useRefëŠ” ì „ë‹¬ë˜ëŠ” ê°’ì˜ `ì°¸ì¡°`ë¥¼ ê¸°ì–µí•œë‹¤.

```jsx
const ref = useRef('ref value!');

// ref.current === 'ref value!'
```

- ref.currentëŠ” ì „ë‹¬ëœ ê°’ì˜ ì°¸ì¡°ë¥¼ ê¸°ì–µí•œë‹¤.
- ref.currentëŠ” ë³€ê²½ë˜ì§€ ì•ŠëŠ”ë‹¤.(ë””íœë˜ì‹œê°€ ì—†ë‹¤.)
- ì£¼ë¡œ `DOM`ì„ ì°¸ì¡°í•˜ê¸° ìœ„í•´ ì‚¬ìš©ëœë‹¤.

### React.memo

- ì»´í¬ë„ŒíŠ¸ë¥¼ í™”ì‚´í‘œ í•¨ìˆ˜ë¡œ ì‘ì„±í–ˆì„ ë•Œ ì‚¬ìš© ê°€ëŠ¥í•˜ë‹¤.
- í•´ë‹¹ ì»´í¬ë„ŒíŠ¸ ìì²´ì˜ `ë Œë”ë§ ê²°ê³¼ë¬¼`ì„ ê¸°ì–µí•œë‹¤.
- ë³€ìˆ˜ê°€ ë³€ê²½ë˜ì§€ ì•ŠëŠ” í•œ, í•´ë‹¹ ì»´í¬ë„ŒíŠ¸ëŠ” ë‹¤ì‹œ ë Œë”ë§ë˜ì§€ ì•ŠëŠ”ë‹¤.

```jsx
const MemoComponent = React.memo(({value, handleFunction}) => {
  return (
    <div>
      MemoComponent
    </div>
  )
})
```

- valueì™€ handleFunctionì´ ë³€ê²½ë˜ì§€ ì•ŠëŠ” í•œ, MemoComponentëŠ” ë‹¤ì‹œ ë Œë”ë§ë˜ì§€ ì•ŠëŠ”ë‹¤.
- valueëŠ” ë³€ê²½ë˜ì§€ ì•Šì§€ë§Œ, handleFunctionì€ ë³€ê²½ë  ìˆ˜ ìˆìœ¼ë¯€ë¡œ, handleFunctionì€ useCallbackì„ í†µí•´ ê¸°ì–µí•´ë‘ë„ë¡ í•œë‹¤.

### ì°¸ê³ 

- [ë¦¬ì•¡íŠ¸ ê³µì‹ë¬¸ì„œ ì—…ë°ì´íŠ¸ ë²„ì „ - hooks](https://react.dev/reference/react)
- [ë¦¬ì•¡íŠ¸ ê³µì‹ë¬¸ì„œ ì—…ë°ì´íŠ¸ ë²„ì „ - memo](https://react.dev/reference/react/memo)

```toc

```
