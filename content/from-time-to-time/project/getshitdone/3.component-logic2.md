---
emoji: ğŸ”¨
title: GetShitDone-3
date: '2022-09-26 22:30:00'
author: ì œì´ë“ 
tags: ê¸°ë¡ ì¼ì§€ ì„±ì¥ ë°œì „ ê°œë°œ
categories: í”„ë¡œì íŠ¸
---

## ğŸ”¨ í”„ë¡œì íŠ¸ ì¼ì§€

> ì •ë³´ ì „ë‹¬ë³´ë‹¨ í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í•˜ë©° ê²ªì€ ì ë“¤, ëŠë‚€ ì ë“¤ì„ ê¸°ë¡í•œ ì¼ì§€

### `Project`: Get Shit Done

ë‚˜ë§Œì˜ ToDoë¦¬ìŠ¤íŠ¸ë¥¼ ë§Œë“¤ê¸° ìœ„í•´ ì‹œì‘í•œ í”„ë¡œì íŠ¸<br/>
`Get Shit Done`ì€ `ê·¸ëƒ¥ ë‹¥ì¹˜ê³  í•´`ë¼ëŠ” ì˜ë¯¸ë¡œ í‰ìƒì‹œ ìŠ¤ìŠ¤ë¡œ ë‹¤ì§í•˜ëŠ” ë¬¸ì¥ì¸ë°, íˆ¬ë‘ë¦¬ìŠ¤íŠ¸ì™€ ì–´ìš¸ë¦°ë‹¤ ìƒê°í•˜ì—¬ í”„ë¡œì íŠ¸ëª…ìœ¼ë¡œ ì •í•˜ê²Œ ë˜ì—ˆë‹¤.<br/>
ì´ë²ˆ í”„ë¡œì íŠ¸ì˜ ê°€ì¥ í° ëª©ì ê³¼ ì˜ì˜ëŠ” ì›¹íŒ© ë° ë°”ë²¨ì„ í†µí•´ ê° ëª¨ë“ˆì„ `ì›¹ ì»´í¬ë„ŒíŠ¸`ë¡œ êµ¬ì„±í•˜ì—¬ ë™ì‘í•˜ê²Œ í•˜ëŠ” ê²ƒì´ë‹¤!!!

#### ğŸ¤ª ì»´í¬ë„ŒíŠ¸ ë¡œì§

ë¨¼ì € ë“¤ì–´ê°€ê¸°ì— ì•ì„œ ì»´í¬ë„ŒíŠ¸ë¥¼ ë‚˜ëˆˆ ë¶€ë¶„ì„ ë‹¤ì‹œ ë³´ìë©´, í¬ê²Œ ì•„ë˜ì™€ ê°™ì´ ë‚˜ëˆ„ì—ˆë‹¤.

- todoApp.js: ì „ì²´ ì•±ì„ ë‚˜íƒ€ë‚¸ë‹¤.
- todoContainer.js: ì•± ë‚´ì— ë©”ëª¨ì¥ì„ ë‚˜íƒ€ë‚¸ë‹¤.(ì—¬ëŸ¬ê°œì˜ ë©”ëª¨ì¥ì„ ìƒì„±í•˜ê²Œ í•  ì˜ˆì •)
- todoToolbar.js: ë©”ëª¨ì— ëŒ€í•œ ì¡°ì‘ì„ í•˜ëŠ” íˆ´ë°” ë¶€ë¶„
- todoNote.js: íˆ´ë°” ì¡°ì‘ì— ë”°ë¼ ë©”ëª¨ë¥¼ ì…ë ¥í•  ìˆ˜ ìˆëŠ” input ë¶€ë¶„
- todoList.js: ë©”ëª¨ ì „ì²´ë¥¼ ê°ì‹¸ê³  ìˆëŠ” ë¶€ë¶„
- todoItem.js: ë©”ëª¨ ì»´í¬ë„ŒíŠ¸

##### ğŸ§­ todoNote

todoNoteëŠ” item(memo)ì„ ì¶”ê°€í•˜ê¸° ìœ„í•œ ì»´í¬ë„ŒíŠ¸ë¡œ memoì˜ ë‚´ìš©ì„ ì…ë ¥í•˜ëŠ” ë¶€ë¶„ì´ë‹¤.

```js
connectedCallback() {
    // 1. Add ë²„íŠ¼ í´ë¦­ ì‹œ ìƒˆë¡œìš´ ë©”ëª¨ ìƒì„±
    const $noteAddButton = this.shadowRoot.querySelector('.note-add-button');
    const $noteInput = this.shadowRoot.querySelector('.note-input');
    $noteAddButton.addEventListener('click', (event) => {
      // 1-1. inputì´ ì—†ì„ ë•ŒëŠ” ë©”ëª¨ ìƒì„± ë§‰ê¸°
      if (!$noteInput.value) return;

      const $todoItem = document.createElement('todo-item');
      $todoItem.dataset.containerTitle = this.dataset.containerTitle;
      $todoItem.dataset.itemTitle = $noteInput.value;
      this.nextElementSibling.shadowRoot.append($todoItem);

      // 1-2. ë©”ëª¨ ê°¯ìˆ˜ ë”í•˜ê¸°
      const $noteCount =
        this.previousElementSibling.shadowRoot.querySelector('.count-item');
      $noteCount.textContent = +$noteCount.textContent + 1;

      // 1-3. Add ë²„íŠ¼ ë¹„í™œì„±í™”
      $noteAddButton.style.opacity = '50%';

      // 1-4. Add ì‚¬ìš©ì í™œë™ ê¸°ë¡
      const $record = document.createElement('div');
      $record.className = 'record';
      $record.innerHTML = `<span class="record-important">@Jayden</span> added <span class="record-important">${$noteInput.value}</span> to <b>${this.dataset.containerTitle}</b>`;

      const now = Date.now();
      $record.dataset.timeMakeNote = now;
      activityLog.push($record);

      // 1-5. Add ë²„íŠ¼ í´ë¦­ í›„ ì…ë ¥ì¹¸ ì´ˆê¸°í™”
      $noteInput.value = '';
    });
      // 2. Cancel ë²„íŠ¼ í´ë¦­ ì‹œ todoNote ë‹«ê¸°
      const $noteCancelButton = this.shadowRoot.querySelector(
        '.note-cancel-button'
      );
      $noteCancelButton.addEventListener('click', (event) => {
        this.style.display = 'none';

        // 2-1. ë©”ëª¨ ë‹«ì€ í›„ ì…ë ¥ì¹¸ ì´ˆê¸°í™”
        $noteInput.value = '';
      });

      // 3. ë©”ëª¨ ì…ë ¥ ì‹œ Add ë²„íŠ¼ í™œì„±í™”
      $noteInput.addEventListener('input', (event) => {
        $noteAddButton.style.opacity =
          event.target.value.length === 0 ? '50%' : '100%';
      });
    }
```

![todoNote](src/todonote.png)

- 1-1. inputì— ê°’ì´ ì—†ëŠ” ê²½ìš°ëŠ” ì´ë²¤íŠ¸ê°€ ë°œìƒí•˜ì§€ ì•Šë„ë¡ `early return`ì„ í™œìš©í–ˆë‹¤.
  - ì´ëŸ° íŒ¨í„´ì€ ì›ì¹˜ ì•Šì€ ê²½ìš°ì—, ì•„ì˜ˆ ì½”ë“œë¥¼ ì‹¤í–‰í•˜ì§€ ì•Šê¸°ë•Œë¬¸ì— ë©”ëª¨ë¦¬ì ì¸ ë©´ìœ¼ë¡œë„ êµ‰ì¥íˆ ìœ ìš©í•˜ë‹ˆ ìì£¼ ì‚¬ìš©í•˜ë„ë¡ í•˜ì!
- 1-2. ì´ì „ ì¥ì˜ todoToolbarì— ìˆëŠ” memoì˜ ê°¯ìˆ˜ë¥¼ ë”í•´ì£¼ëŠ” ê¸°ëŠ¥ì´ë‹¤. ì´ ë•ŒëŠ” ë‹¤í–‰íˆ(?) toolbarì™€ note ì»´í¬ë„ŒíŠ¸ê°€ í˜•ì œê´€ê³„ë¼ ì ‘ê·¼í•˜ê¸° í¸í–ˆì§€ë§Œ, ì»´í¬ë„ŒíŠ¸ë¥¼ ë„ˆë¬´ ë³µì¡í•˜ê²Œ ë‚˜ëˆ„ë©´ ë” ì ‘ê·¼í•˜ê¸° ì–´ë ¤ì› ì„ ê²ƒ ê°™ë‹¤.
- 1-4. ì´ ë¶€ë¶„ì€ ìµœê·¼ì— ìƒˆë¡œ ì¶”ê°€í•œ ë¡œì§ìœ¼ë¡œ, ë©”ëª¨ì— ëŒ€í•œ ì¶”ê°€/ìˆ˜ì •/ì‚­ì œì— ëŒ€í•œ ê¸°ë¡ì„ ë³´ì—¬ì£¼ëŠ” ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ê¸° ìœ„í•¨ì´ë‹¤.
- 1-5. ì´ëŸ° ê²Œ ë†“ì¹˜ê¸° ì‰¬ìš´ ê²ƒ ê°™ë‹¤. add ë²„íŠ¼ìœ¼ë¡œ ë©”ëª¨ë¥¼ ì‘ì„±í•˜ê³  ë‹¤ì‹œ inputì— ê°’ì„ ë¹ˆ ê°’ìœ¼ë¡œ ì´ˆê¸°í™”í•´ì¤€ë‹¤. ë­”ê°€ ì´ëŸ° ë¶€ë¶„ì´ ì»´í“¨í„°ì´ê¸°ì— í•˜ë‚˜í•˜ë‚˜ ëª…ë ¹í•´ì¤˜ì•¼í•œë‹¤ê³  ëŠë¼ëŠ” ë¶€ë¶„ì´ë‹¤.ã…‹ã…‹

- 3 . ë©”ëª¨ inputì— ê°’ì´ ìƒê¸°ë©´ ì‹œê°ì ìœ¼ë¡œ ëšœë ·í•˜ê²Œ í•˜ê³  ë‹¤ì‹œ inputê°’ì˜ ê¸¸ì´ê°€ 0ì´ë˜ë©´ ë°˜íˆ¬ëª…í•˜ê²Œ ë§Œë“ ë‹¤.

##### ğŸ§­ todoItem

ì¶”ê°€í•  ë¡œì§ì´ ì œì¼ ë§ì•˜ë˜, ë©”ëª¨ ê·¸ ìì²´ ì»´í¬ë„ŒíŠ¸ì¸ todoItem!!! ê±°ë‘ì ˆë¯¸í•˜ê³  ë°”ë¡œ ì½”ë“œë¡œ!!!

```js
connectedCallback() {
    // 1. itemì´ ìƒì„±ë˜ê³  DOMì— ì¶”ê°€ë  ë•Œ ê·¸ ì•ˆì— í…ìŠ¤íŠ¸ë¥¼ ë°”ê¿”ì£¼ê¸°
    this.shadowRoot.querySelector('.item-content').textContent =
      this.dataset.itemTitle;
    // ì¶”ê°€) ëª¨ë‹¬ ì°½ input valueì—ë„ ê°™ì€ ê°’ í• ë‹¹
    this.shadowRoot.querySelector('.modal-input').value =
      this.dataset.itemTitle;

    // 2. item X button í´ë¦­ ì‹œ item ì‚­ì œ ë° count ë¹¼ê¸°
    const $itemDeleteButton = this.shadowRoot.querySelector(
      '.item-delete-button'
    );
    $itemDeleteButton.addEventListener('click', (event) => {
      // 2-0. ì»¨íŒ ë©”ì‹œì§€ falseì¸ ê²½ìš° early return
      if (!confirm('ì„ íƒí•˜ì‹  ì¹´ë“œë¥¼ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) return;

      // 2-1. item ì‚­ì œ
      this.remove();

      // 2-2. count ë¹¼ê¸°
      // âœ…ë‹¤ì‹œ: shadow dom ë°”ê¹¥ìœ¼ë¡œ ê°€ëŠ” ë‹¤ë¥¸ ë£¨íŠ¸ëŠ” ì—†ëŠ”ì§€ í™•ì¸
      const containerTitle = this.dataset.containerTitle;
      const $noteCount = document
        .querySelector('todo-app')
        .shadowRoot.querySelector(
          `[
            data-container-title=${containerTitle}
          ]`
        )
        .shadowRoot.querySelector('todo-toolbar')
        .shadowRoot.querySelector('.count-item');
      $noteCount.textContent = +$noteCount.textContent - 1;

      // 2-3. í™œë™ ê¸°ë¡ì— ì‚­ì œ í™œë™ ì¶”ê°€
      const $record = document.createElement('div');
      $record.className = 'record';
      $record.innerHTML = `<span class="record-important">@Jayden</span> deleted <span class="record-important">${this.dataset.itemTitle}</span> from <b>${this.dataset.containerTitle}</b>`;

      const now = Date.now();
      $record.dataset.timeMakeNote = now;
      activityLog.push($record);
    });

    // 3. ì•„ì´í…œ ë”ë¸” í´ë¦­ ì‹œ ìˆ˜ì • ëª¨ë‹¬ ìƒì„±
    this.addEventListener('dblclick', (event) => {
      this.shadowRoot.querySelector('.item-modal-outer').style.display =
        'block';
      this.shadowRoot.querySelector('.item-modal-inner').style.display = 'flex';
    });

    // 4. ëª¨ë‹¬ ì°½ X í´ë¦­ ì‹œ ëª¨ë‹¬ ë‹«ê¸°
    const $modalCloseButton = this.shadowRoot.querySelector(
      '.modal-close-button'
    );
    const $modalInner = this.shadowRoot.querySelector('.item-modal-inner');
    const $modalOuter = this.shadowRoot.querySelector('.item-modal-outer');

    $modalCloseButton.addEventListener('click', (event) => {
      $modalInner.style.display = 'none';
      $modalOuter.style.display = 'none';
      $modalInner.querySelector('.modal-input').value = this.dataset.itemTitle;
    });

    // 5. ëª¨ë‹¬ ì°½ save button í´ë¦­ ì‹œ ë‚´ìš© ë³€ê²½
    const $modalSaveButton =
      this.shadowRoot.querySelector('.modal-save-button');
    const $modalInput = this.shadowRoot.querySelector('.modal-input');
    const $itemContent = this.shadowRoot.querySelector('.item-content');
    $modalSaveButton.addEventListener('click', (event) => {
      $modalInner.style.display = 'none';
      $modalOuter.style.display = 'none';

      // 5-1. í™œë™ ê¸°ë¡ì— ìˆ˜ì • í™œë™ ì¶”ê°€
      const $record = document.createElement('div');
      $record.className = 'record';
      $record.innerHTML = `<span class="record-important">@Jayden</span> changed <b>${$itemContent.textContent}</b> to <span class="record-important">${$modalInput.value}</span> in <b>${this.dataset.containerTitle}</b>`;

      const now = Date.now();
      $record.dataset.timeMakeNote = now;
      activityLog.push($record);

      $itemContent.textContent = $modalInput.value;
    });
}
```

- 2-0. ì´ ë¶€ë¶„ë„ ì•„ì£¼ ìœ ìš©í•˜ê²Œ ì‚¬ìš©í•œ `early return` íŒ¨í„´!
- 2-2. ë‚˜ë¥¼ ì œì¼ ê³ ìƒì‹œì¼°ë˜ ë…€ì„... ì»´í¬ë„ŒíŠ¸ ë³„ë¡œ shadow domì´ í˜•ì„±ë˜ë‹¤ë³´ë‹ˆ, ì»´í¬ë„ŒíŠ¸ì—ì„œ ë‹¤ë¥¸ ì»´í¬ë„ŒíŠ¸ë¥¼ ì„ íƒí•˜ëŠ” ê²ƒì´ ë„ˆë¬´ ê¹Œë‹¤ë¡œì› ë‹¤. íŠ¹íˆë‚˜, ì§€ê¸ˆê³¼ ê°™ì´ ì»´í¬ë„ŒíŠ¸ê°€ ì„œë¡œ ë¶€ëª¨, ìì‹ ê´€ê³„ì¼ ë•Œ ìì‹ ì»´í¬ë„ŒíŠ¸ì˜ root ë…¸ë“œê°€ ë³¸ì¸ì´ë‹¤ë³´ë‹ˆ ê·¸ ìœ„ë¡œ ì ‘ê·¼í•˜ëŠ” ê²Œ ë¶ˆê°€ëŠ¥í–ˆë‹¤.(ê°€ëŠ¥í•œì§€ ì •ë§ ì—´ì‹¬íˆ ë’¤ì¡Œì§€ë§Œ... shadow domì˜ ê°œë…ì„ ìƒê°í•´ë³´ë©´ ì•ˆë˜ëŠ” ê²Œ ë§ë‹¤...) ê·¸ë˜ì„œ ê²°êµ­ datasetì„ í†µí•´ ìœ„ì—ì„œë¶€í„° í•˜ë‚˜í•˜ë‚˜ ì ‘ê·¼í•˜ëŠ” ë°©ë²•ì„ ì„ íƒí–ˆë‹¤. ì¶”í›„ì— ì´ ë¶€ë¶„ì„ ë‹¤ë¥´ê²Œ í•´ê²°í•  ìˆ˜ëŠ” ì—†ëŠ”ì§€ ê¼­ ì•Œê³ ì‹¶ë‹¤.
- 3 . ì´ì œ ëª¨ë‹¬ ì°½ì„ ë§Œë“œëŠ” ë¶€ë¶„ì€ ì‰½ê²Œ ì²˜ë¦¬í•  ìˆ˜ ìˆê²Œ ë˜ì—ˆë‹¤. ì—­ì‹œ ê³„ì† í•´ë´ì•¼í•œë‹¤.

> ì½”ë©˜íŠ¸ë¥¼ êµ³ì´ ë‚¨ê¸°ì§€ ì•Šì€ ë¶€ë¶„ë“¤ì€ ì•ì„œ ì„¤ëª…í•œ ë¶€ë¶„ë“¤ì„ í†µí•´ ì´í•´í•  ìˆ˜ ìˆê±°ë‚˜ í¬ê²Œ ì–´ë µì§€ ì•Šì•˜ë˜ ë¶€ë¶„ì´ë¼ ìƒëµí•˜ì˜€ë‹¤.(ë¬¼ë¡  ì´ ì½”ë“œë“¤ì¡°ì°¨ë„ ì§€ì €ë¶„í•˜ì§€ë§Œ...)
> ì¼ë‹¨ ê¸°ëŠ¥êµ¬í˜„ì— ì´ˆì ì„ ë§ì¶° í”„ë¡œì íŠ¸ë¥¼ ëª‡ë²ˆ ì§„í–‰í•˜ë‹¤ë³´ë‹ˆ, ì ì  ì½”ë“œ ìì²´ì— ì‹ ê²½ì„ ì“°ê³  ì‹¶ì–´ì§€ê³  ë”ë” ì•Œì•„ê°€ê³  ì‹¶ì€ ê²Œ ë§ì•„ì§„ë‹¤. ì‚¬ëŒ ìš•ì‹¬ì´ ì°¸ ê·¸ëŸ° ê²ƒ ê°™ë‹¤.
> ì²œì²œíˆ ë§ˆìŒ ì¡ê³  ë‚´ê°€ í•  ìˆ˜ ìˆëŠ” ì„ ì—ì„œ ë” ë‚˜ì•„ê°€ë©´ ëœë‹¤.
> ì¶”ê°€ë¡œ `ë“œë˜ê·¸ ì•¤ ë“œë`ê³¼ `ë‹¤í¬ëª¨ë“œ`ë¥¼ êµ¬í˜„í•´ë³¼ ì˜ˆì •ì´ë‹¤..!

```toc

```
